@model Shopping.Models.Product

@{
    ViewBag.Title = "ProductDetail";
}

<h2>您正在检视 @Model.Name 商品</h2>

@{
    var ajaxOption = new AjaxOptions()
    {
        OnSuccess = "AddToCartSuccess",
        OnFailure = "AddToCartFailure",
        HttpMethod = "Post"
    };
}

<script type="text/javascript">
    function AddToCartSuccess()
    {
        alert('添加购物车成功');
    }

    function AddToCartFailure(xhr)
    {
        alert('添加购物车失败（Http状态码：' + xhr.status + ')');
    }
</script>

<div>
    <h4>@Html.DisplayNameFor(m => m)</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Price)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Price)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PublishOn)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PublishOn)
        </dd>

    </dl>
</div>
<p>
    @Ajax.ActionLink("添加购物车", "AddToCart", "Cart", new { ProductId = Model.Id}, ajaxOption)
</p>
